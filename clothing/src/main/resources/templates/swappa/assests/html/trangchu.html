<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang chủ</title>
    <link rel="stylesheet" th:href="@{/bootstrap-5.3.2-dist/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/assests/css/style.css}">
    <link rel="shortcut icon" th:href="@{/assests/srcPic/x.png}" type="image/x-icon">
    <script th:src="@{https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js}"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        .img-container {
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        .img-container img {
            max-height: 100%;
            /* Đảm bảo chiều cao của ảnh không vượt quá container */
            width: auto;
            /* Chiều rộng tự động điều chỉnh để duy trì tỷ lệ khung hình */
        }
        .dropdown-item:hover {
            background-color: #b7b6b6; /* Màu nền khi hover */
            color: white;
            cursor: pointer;
        }
        .link-body-emphasis:hover{
            color: rgba(178, 169, 169, 0.96) !important;
            font-weight: bolder!important;
            text-decoration: underline!important;
            text-decoration-color: white!important;
        }
        .product-container {
            display: flex;
            overflow-x: auto;
        }
    </style>
</head>

<body>
<!-- header -->
<div th:replace="~{swappa/assests/html/layout/_layout::header}"></div>
<!-- main -->
<div class="main-container">
    <div class="container-fluid bg-semiBlack">
        <div class="py-2">
            <div id="tooltip-bar"></div>
            <div id="breadscrum-bar"></div>
            <div id="message-block"></div>
            <!-- content-top -->
            <section class="p-4 mb-4 text-center container text-bg-cf">
                <h1 class="text-center mb-3">Buy + Sell + Save</h1>
                <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-3 gy-4 justify-content-around">
                    <div class="col">
                        <div class="card border-0 shadow-sm card_home_category rounded-2" data-category="Phones">
                            <div class="card-header">
                                <h3 class="card-title text-uppercase">
                                    Voucher
                                </h3>
                            </div>
                            <div class="big_image bgg-cf-100 rounded">
                                <a href="/vouchers" class="d-block h3 stretched-link" title="Buy and sell phones">
                                    <div class="img-container" >
                                        <img src="https://i.imgur.com/w68MQc4.png" class="img-fluid"
                                             alt="Used and refurbished phones">
                                    </div>

                                </a>
                            </div>
                            <div class="card-body bg-cf shadow">
                                <div class="d-flex justify-content-around fs-sm">
                                        <span class="d-flex">
                                            <i class="fa-solid fa-list-check color-blue me-3" aria-hidden="true"></i>
                                            <p id="voucherCount"></p>
                                        </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card border-0 shadow-sm card_home_category rounded-2" data-category="Phones">
                            <div class="card-header">
                                <h3 class="card-title text-uppercase">
                                    Product
                                </h3>
                            </div>
                            <div class="big_image bgg-cf-100 rounded">
                                <a href="/AllcategoryType" class="d-block h3 stretched-link" title="Buy and sell phones">
                                    <div class="img-container" >
                                        <img src="/assests/images/banner_1.jpg" class="img-fluid"
                                             alt="Used and refurbished phones">
                                    </div>
                                </a>
                            </div>
                            <div class="card-body bg-cf shadow">

                                <div class="d-flex justify-content-around fs-sm">
                                        <span class="d-flex">
                                            <i class="fa-solid fa-list-check color-blue me-3" aria-hidden="true"></i>
                                            <p id="productCount"></p>
                                        </span>
                                </div>

                            </div>
                        </div>
                    </div>

                    <div class="col">
                        <div class="card border-0 shadow-sm card_home_category rounded-2" data-category="Phones">
                            <div class="card-header">
                                <h3 class="card-title text-uppercase">
                                    Category
                                </h3>
                            </div>
                            <div class="big_image bgg-cf-100 rounded">
                                <a href="/AllcategoryType" class="d-block h3 stretched-link" title="Buy and sell phones">
                                    <div class="img-container" >
                                        <img src="/assests/images/banner_2.jpg" class="img-fluid"
                                             alt="Used and refurbished phones">
                                    </div>
                                </a>
                            </div>
                            <div class="card-body bg-cf shadow">

                                <div class="d-flex justify-content-around fs-sm">
                                        <span class="d-flex">
                                            <i class="fa-solid fa-list-check color-blue me-3" aria-hidden="true"></i>
                                            <p>6 approved listings</p>
                                        </span>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>

            </section>

            <section class="p-0 mb-4 text-center container text-bg-cf">
                <div class="mb-3 rounded-0 text-center card border-0">

                    <h3 class="text-center rounded-0 card-header bg-cf fw-bolder mb-2">Product catalog</h3>

                </div>
                <!-- genres -->
                <div class="row row-cols-2 row-cols-md-3 row-cols-lg-3 row-cols-xl-6 justify-content-center gy-4"
                     ng-include="'assests/html/genres.html'"></div>
                <!-- banner -->
                <div class="row row-cols-2 row-cols-md-3 row-cols-lg-3 row-cols-xl-6 justify-content-center gy-4"
                     id="brand-swappa">
                    <div class="col">
                        <div class="card p-4 rounded-0 border-0">
                            <img src="/assests/images/outerwear.avif" class="img-fluid" alt="">
                            <a href="/AllcategoryType/Outerwear" class="stretched-link mt-lg-3 text-semiBlack"
                               style="font-size: 1.2rem; color: green;">Outerwear</a>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card p-4 rounded-0 border-0">
                            <img src="/assests/images/top.png" class="img-fluid" alt="">
                            <a href="/AllcategoryType/Tops" class="stretched-link mt-lg-3 text-semiBlack"
                               style="font-size: 1.2rem; color: green;">Tops</a>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card p-4 rounded-0 border-0">
                            <img src="/assests/images/Bottoms.webp" class="img-fluid" alt="">
                            <a href="/AllcategoryType/Bottoms" class="stretched-link mt-lg-3 text-semiBlack"
                               style="font-size: 1.2rem; color: green;">Bottoms</a>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card p-4 rounded-0 border-0">
                            <img src="/assests/images/Jewels & Accessories.png" class="img-fluid" alt="">
                            <a href="/AllcategoryType/Jewels & Accessories" class="stretched-link mt-lg-3 text-semiBlack"
                               style="font-size: 1.2rem; color: green;">Jewels & Accessories</a>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card p-4 rounded-0 border-0">
                            <img src="/assests/images/headwear.png" class="img-fluid" alt="">
                            <a href="/AllcategoryType/Headwear" class="stretched-link mt-lg-3 text-semiBlack"
                               style="font-size: 1.2rem; color: green;">Headwear</a>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card p-4 rounded-0 border-0">
                            <img src="/assests/images/foot.png" class="img-fluid" alt="">
                            <a href="/AllcategoryType/Footwear" class="stretched-link mt-lg-3 text-semiBlack"
                               style="font-size: 1.2rem; color: green;">Footwear</a>
                        </div>
                    </div>
                </div>
                <div>
                    <a href="/AllcategoryType" class="btn btn-secondary mb-2">See more</a>
                </div>
            </section>

            <!-- product -->
            <section class="p-4 mb-4 pt-2 text-center container text-bg-cf">
                <!-- product-list -->
                <!-- <pre>
                    {{series}}
                </pre> -->
                <div class="mt-3 pt-1 rounded">
                    <div class="d-flex align-items-baseline my-4">
                        <div class="flex-fill hori-stripe-pattern-warm"></div>
                        <div class="mx-4 mb-0 text-center h2 fw-bolder">Featured products</div>
                        <div class="flex-fill hori-stripe-pattern-warm"></div>
                    </div>
                    <div class="row row-cols-3 row-cols-md-4 row-cols-lg-5 row-cols-xl-6 justify-content-around"
                         id="sanphamtrangchu">

                    </div>
                </div>
            </section>
            <section class="p-4 mb-4 pt-2 text-center container text-bg-cf">
                <div class="mt-3 pt-1 rounded">
                    <div class="d-flex align-items-baseline my-4">
                        <div class="flex-fill hori-stripe-pattern-warm"></div>
                        <div class="mx-4 mb-0 text-center h2 fw-bolder">Products belonging to the Outerwear category</div>
                        <div class="flex-fill hori-stripe-pattern-warm"></div>
                    </div>
                    <div class="product-container" id="type_product_outerwear">

                    </div>
                </div>
            </section>
            <section class="p-4 mb-4 pt-2 text-center container text-bg-cf">
                <div class="mt-3 pt-1 rounded">
                    <div class="d-flex align-items-baseline my-4">
                        <div class="flex-fill hori-stripe-pattern-warm"></div>
                        <div class="mx-4 mb-0 text-center h2 fw-bolder">Products belonging to the Tops category</div>
                        <div class="flex-fill hori-stripe-pattern-warm"></div>
                    </div>
                    <div class="product-container" id="type_product_tops">

                    </div>
                </div>
            </section>
            <section class="p-4 mb-4 pt-2 text-center container text-bg-cf">
                <div class="mt-3 pt-1 rounded">
                    <div class="d-flex align-items-baseline my-4">
                        <div class="flex-fill hori-stripe-pattern-warm"></div>
                        <div class="mx-4 mb-0 text-center h2 fw-bolder">Products belonging to the Bottoms category</div>
                        <div class="flex-fill hori-stripe-pattern-warm"></div>
                    </div>
                    <div class="product-container" id="type_product_bottoms">

                    </div>
                </div>
            </section>
            <section class="p-4 mb-4 pt-2 text-center container text-bg-cf">
                <div class="mt-3 pt-1 rounded">
                    <div class="d-flex align-items-baseline my-4">
                        <div class="flex-fill hori-stripe-pattern-warm"></div>
                        <div class="mx-4 mb-0 text-center h2 fw-bolder">Products belonging to the Jewels & Accessories category</div>
                        <div class="flex-fill hori-stripe-pattern-warm"></div>
                    </div>
                    <div class="product-container" id="type_product_Jewels_Accessories">

                    </div>
                </div>
            </section>
            <section class="p-4 mb-4 pt-2 text-center container text-bg-cf">
                <div class="mt-3 pt-1 rounded">
                    <div class="d-flex align-items-baseline my-4">
                        <div class="flex-fill hori-stripe-pattern-warm"></div>
                        <div class="mx-4 mb-0 text-center h2 fw-bolder">Products belonging to the Headwear category</div>
                        <div class="flex-fill hori-stripe-pattern-warm"></div>
                    </div>
                    <div class="product-container" id="type_product_Jewels_Headwear">

                    </div>
                </div>
            </section>
            <section class="p-4 mb-4 pt-2 text-center container text-bg-cf">
                <div class="mt-3 pt-1 rounded">
                    <div class="d-flex align-items-baseline my-4">
                        <div class="flex-fill hori-stripe-pattern-warm"></div>
                        <div class="mx-4 mb-0 text-center h2 fw-bolder">Products belonging to the Footwear category</div>
                        <div class="flex-fill hori-stripe-pattern-warm"></div>
                    </div>
                    <div class="product-container" id="type_product_Jewels_Footwear">

                    </div>
                </div>
            </section>

            <section class="mb-2 pt-2 text-center container text-bg-cf p-0">
                <!-- more-info -->
                <div class="mt-4">
                    <h2 class="text-center mb-1">Why M2M clothing?
                        <p id="iduser" th:text="${iduser}" style="display: none"></p>
                        <p id="emailtrangchu" th:text="${email}" style="display: none"></p>
                    </h2>
                    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 justify-content-center gy-3">
                        <div class="col text-center">
                            <div class="h1"><i class="fa-solid fa-handshake" style="color: #005eff;"></i>
                            </div>
                            <div class="my-2">
                                <h3>People Powered</h3>
                                <p>On Swappa, you buy and sell directly with other users. No middleman means you get
                                    the
                                    best price and most value.</p>
                            </div>
                        </div>
                        <div class="col text-center">
                            <div class="h1"><i class="fa-solid fa-ban" style="color: #c41c1c;"></i>
                            </div>
                            <div class="my-2">
                                <h3>No Junk</h3>
                                <p>Swappa does not allow broken items. Every product has listing requirements and an
                                    approval process.</p>
                            </div>
                        </div>
                        <div class="col text-center">
                            <div class="h1"><i class="fa-solid fa-list-check" style="color: #255cbb;"></i>
                            </div>
                            <div class="my-2">
                                <h3>Verified Listings</h3>
                                <p>Every listing on Swappa is verified by our expert staff to ensure our strict
                                    listings
                                    requirements are followed. Buy with confidence.</p>
                            </div>
                        </div>
                        <div class="col text-center">
                            <div class="h1"><i class="fa-solid fa-hand-fist" style="color: #6b5705;"></i>
                            </div>
                            <div class="my-2">
                                <h3>F**k Fraud</h3>
                                <p>Our moderation staff uses the latest, greatest AI and machine-learning tools to
                                    fight
                                    fraud before it affects our users.</p>
                            </div>
                        </div>
                        <div class="col text-center">
                            <div class="h1"><i class="fa-solid fa-hand-holding-dollar" style="color: #3cc035;"></i>
                            </div>
                            <div class="my-2">
                                <h3>Fair Fees</h3>
                                <p>Swappa has fair fees, just 3% per party. That means buyers save more and sellers
                                    keep
                                    more compared to other marketplaces.</p>

                            </div>
                        </div>
                        <div class="col text-center">
                            <div class="h1"><i class="fa-solid fa-envelope-open-text" style="color: #366ac4;"></i>
                            </div>
                            <div class="my-2">
                                <h3>Great Support</h3>
                                <p>Our support is provided by real humans who actually care. Swappa's typical
                                    response
                                    time for help requests is around 20 minutes!</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mt-4">
                    <div class="card rounded-0 border-0">
                        <h3 class="text-center card-header">Recognized for value and safety</h3>
                        <div
                                class="row justify-content-around row-cols-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5 align-middle bgg-cf-100 m-0 p-0">
                            <div class="col">
                                <a href="" class="btn"><img class="img-fluid"
                                                            src="https://static.swappa.com/static/images/press/press_wsj.png"
                                                            alt=""></a>
                            </div>
                            <div class="col">
                                <a href="" class="btn"><img class="img-fluid pt-3"
                                                            src="https://static.swappa.com/static/images/press/press_theverge.png"
                                                            alt=""></a>
                            </div>
                            <div class="col">
                                <a href="" class="btn"><img class="img-fluid"
                                                            src="https://static.swappa.com/static/images/press/press_cnet.png"
                                                            alt=""></a>
                            </div>
                            <div class="col">
                                <a href="" class="btn"><img class="img-fluid"
                                                            src="https://static.swappa.com/static/images/press/press_tomsguide.png"
                                                            alt=""></a>
                            </div>
                            <div class="col">
                                <a href="" class="btn"><img class="img-fluid"
                                                            src="https://static.swappa.com/static/images/press/press_lifehacker.png"
                                                            alt=""></a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>

<!-- footer -->
<footer th:replace="~{swappa/assests/html/layout/_layout::footer}"></footer>
<!--<script src="/node_modules/angular/angular.min.js"></script>-->
<script th:src="@{/bootstrap-5.3.2-dist/js/bootstrap.bundle.min.js}"></script>
<script th:src="@{https://kit.fontawesome.com/c22bed0de0.js}" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/axios@1.6.7/dist/axios.min.js"></script>
<script th:src="@{/assests/js/jsAll.js}"></script>
<script th:src="@{/assests/js/searchRcmd.js}"></script>
<script>
    $(document).ready(async function(){
        var tennguoidung = sessionStorage.getItem("tendn");
        var idnguoidung = sessionStorage.getItem("idnguoidung");

        if(idnguoidung == null){
            sessionStorage.setItem("idnguoidung","");
        }else if(idnguoidung == ""){
            sessionStorage.setItem("idnguoidung",$('#iduser').text())
            sessionStorage.setItem("tendn",$('#emailtrangchu').text())
        }else {
            sessionStorage.setItem("tendn",$('#emailtrangchu').text())
            sessionStorage.setItem("idnguoidung",$('#iduser').text())
        }
    })
    var duongdan  = sessionStorage.getItem("duongdan");
    if(duongdan != null){
        window.location.href = sessionStorage.getItem("duongdan");
    }else {

    }
</script>
<script th:src="@{/assests/js/SearchProduct.js}"></script>
<script th:src="@{/assests/js/Home.js}"></script>
<script>
    $(document).ready(function () {
        var id;
        if (sessionStorage.getItem("idnguoidung") == ""){

        }else {
            $.ajax({
                url: '/finduseridwitchNotification?id='+sessionStorage.getItem("idnguoidung"),
                type: 'GET',
                contentType: 'application/json',
                success: function (data) {
                    soluong = data.length;
                    $('#soluongthongbao').text(soluong)
                },
                error: function (jqXHR, textStatus, errorThrown) {
                    console.error('Error:', errorThrown);
                }
            });
        }

        $('#btnthongobao').click(function () {
            id = (sessionStorage.getItem("idnguoidung") == "" ? "false" : sessionStorage.getItem("idnguoidung"));
            if (id == "false"){
                Swal.fire({
                    title: 'Notifications from the system',
                    text: 'You are not logged in, please log in.',
                    icon: 'warning', // Có thể thay đổi icon thành 'error', 'warning', 'info', hoặc 'question'
                    confirmButtonText: 'Confirm',
                    allowOutsideClick: false
                }).then((result) => {
                    if (result){
                        window.location.href = "/loginacount";
                    }
                })
            }else {
                $("#notification-dropdown").toggleClass("d-none");
                $('#thogbao').empty();
                $.ajax({
                    url: '/finduseridwitchNotification?id='+sessionStorage.getItem("idnguoidung"),
                    type: 'GET',
                    contentType: 'application/json',
                    success: function (data) {
                        var soluong = data.length;
                        if (soluong == 0){
                            $('#thogbao').append(`
                            <div class="text-dark fw-bolder" style="color: #edd678">No new announcements.</div>`);
                        }
                        $('#soluongthongbao').text(soluong)
                        // Hiển thị dữ liệu trong bảng
                        data.forEach(function (order) {
                            $('#thogbao').append(`
                        <div class="text-dark fw-bolder" style="text-decoration: underline; cursor : pointer">You have a new voucher in your account.</div>
                        `);
                        });
                    },
                    error: function (jqXHR, textStatus, errorThrown) {
                        console.error('Error:', errorThrown);
                    }
                });
            }
        });

        $('#xoathongbao').click(function () {
            $.ajax({
                url: '/deleteNotification?id='+id,
                type: 'GET',
                contentType: 'application/json',
                success: function (data) {
                    location.reload();
                },
                error: function (jqXHR, textStatus, errorThrown) {
                    console.error('Error:', errorThrown);
                }
            });
        })
    })
</script>
</body>
</html>
